{"version":3,"file":"static/js/871.4a568a61.chunk.js","mappings":"qLACA,QAA0B,6BAA1B,EAA+D,2B,kCCA/D,QAA0B,6BAA1B,EAA+D,2BAA/D,EAAwG,iCAAxG,EAAgJ,0BAAhJ,EAAgL,yBAAhL,EAAgN,0B,0CCazM,MAAMA,EAAoCC,IAAgB,IAAf,MAAEC,GAAOD,EACzD,MAAM,MAAEE,IAAUC,EAAAA,EAAAA,MACZ,wBAAEC,EAAuB,WAAEC,EAAU,SAAEC,IAAaC,EAAAA,EAAAA,KACpDC,GAAWC,EAAAA,EAAAA,MAYjB,OACEC,EAAAA,EAAAA,MAAA,OACEC,UAAWC,IAAGC,EAAW,CAAE,CAACA,GAAmB,SAAVX,IACrCY,QAboBC,KACtBP,GAASQ,EAAAA,EAAAA,IAAgBf,IACzBK,EAASL,EAAM,EAWYgB,SAAA,EAEzBP,EAAAA,EAAAA,MAAA,OAAKC,UAAWE,EAAQI,SAAA,EACtBC,EAAAA,EAAAA,KAAA,QAAMP,UAAWE,EAAcI,SAAC,0EAChCC,EAAAA,EAAAA,KAAA,QAAMP,UAAWE,EAAOI,SAAEhB,QAE5BiB,EAAAA,EAAAA,KAAA,OAAAD,UACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CACLC,QAAQ,MACRT,UAAWE,EACXC,QAlBmBO,IACzBA,EAAEC,kBACFlB,EAAwBH,EAAM,EAiBxBsB,SAAUlB,EAAWY,SAEpBZ,GAAaa,EAAAA,EAAAA,KAACM,EAAAA,EAAS,CAACC,MAAO,KAAS,mDAGzC,E,cCvCV,MAyBA,EAzBoBC,KAClB,MAAMC,GAAWC,EAAAA,EAAAA,IAAYC,EAAAA,KACrBC,KAAMC,GAAkBC,EAAAA,EAAWC,mBACjC,OAARN,QAAQ,IAARA,OAAQ,EAARA,EAAUO,OAGZ,OACEhB,EAAAA,EAAAA,KAAA,OAAKP,UAAWE,EAAUI,SACvBc,EACCA,EAAcI,OAAS,GACrBjB,EAAAA,EAAAA,KAAA,OAAKP,UAAWE,EAAQI,SACrBc,EAAcK,KAAI,CAACC,EAAMC,KACxBpB,EAAAA,EAAAA,KAACnB,EAAW,CAAaE,MAAOoC,GAAdC,QAItBpB,EAAAA,EAAAA,KAACqB,EAAAA,EAAU,CAACtC,MAAM,6DAGpBiB,EAAAA,EAAAA,KAACM,EAAAA,EAAS,CAACC,MAAO,MAEhB,C","sources":["webpack://aston_project/./src/pages/History/userHistory.module.css?9435","webpack://aston_project/./src/ui/components/historyItem/historyItem.module.css?1969","ui/components/historyItem/historyItem.tsx","pages/History/UserHistory.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"userHistory_wrapper__OMBL9\",\"items\":\"userHistory_items__5WQpk\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"historyItem_wrapper__hm+lE\",\"title\":\"historyItem_title__Nd5VB\",\"searchTitle\":\"historyItem_searchTitle__kQmEF\",\"text\":\"historyItem_text__N+VQt\",\"btn\":\"historyItem_btn__zrgJm\",\"dark\":\"historyItem_dark__0NwFD\",\"light\":\"historyItem_light__cxlnj\"};","import React, { FC } from 'react';\nimport { useHistory } from '../../../hooks/useHistory';\nimport { Button } from '../../elements/Button/Button';\nimport Preloader from '../../elements/Preloader/Preloader';\nimport s from './historyItem.module.css';\nimport cn from 'classnames';\nimport { useTheme } from '../../../context/ThemeContext';\nimport { useDispatch } from 'react-redux';\nimport { changeSearhText } from '../../../store/auth/authSlice';\n\ninterface historyItemProps {\n  title: string;\n}\n\nexport const HistoryItem: FC<historyItemProps> = ({ title }) => {\n  const { theme } = useTheme();\n  const { handleRemoveFromHistory, isFetching, redirect } = useHistory();\n  const dispatch = useDispatch();\n\n  const handleItemClick = () => {\n    dispatch(changeSearhText(title));\n    redirect(title);\n  };\n\n  const handleRemoveClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.stopPropagation();\n    handleRemoveFromHistory(title);\n  };\n\n  return (\n    <div\n      className={cn(s.wrapper, { [s.dark]: theme === 'dark' })}\n      onClick={handleItemClick}\n    >\n      <div className={s.title}>\n        <span className={s.searchTitle}>Текст поиска:</span>\n        <span className={s.text}>{title}</span>\n      </div>\n      <div>\n        <Button\n          variant='red'\n          className={s.btn}\n          onClick={handleRemoveClick}\n          disabled={isFetching}\n        >\n          {isFetching ? <Preloader width={15} /> : 'Удалить'}\n        </Button>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { historyApi } from \"../../store/rtkQuery/historyApi\";\nimport { useSelector } from \"react-redux\";\nimport { user } from \"../../store/auth/authSlice\";\nimport s from \"./userHistory.module.css\";\nimport { HistoryItem } from \"../../ui/components/historyItem/historyItem\";\nimport Preloader from \"../../ui/elements/Preloader/Preloader\";\nimport { EmptyTitle } from \"../../ui/components/EmptyTitle/EmptyTitle\";\n\nconst UserHistory = () => {\n  const userInfo = useSelector(user);\n  const { data: searchHistory } = historyApi.useGetHistoryQuery(\n    userInfo?.email,\n  );\n\n  return (\n    <div className={s.wrapper}>\n      {searchHistory ? (\n        searchHistory.length > 0 ? (\n          <div className={s.items}>\n            {searchHistory.map((item, index) => (\n              <HistoryItem key={index} title={item} />\n            ))}\n          </div>\n        ) : (\n          <EmptyTitle title=\"Ничего нет\" />\n        )\n      ) : (\n        <Preloader width={45} />\n      )}\n    </div>\n  );\n};\n\nexport default UserHistory;\n"],"names":["HistoryItem","_ref","title","theme","useTheme","handleRemoveFromHistory","isFetching","redirect","useHistory","dispatch","useDispatch","_jsxs","className","cn","s","onClick","handleItemClick","changeSearhText","children","_jsx","Button","variant","e","stopPropagation","disabled","Preloader","width","UserHistory","userInfo","useSelector","user","data","searchHistory","historyApi","useGetHistoryQuery","email","length","map","item","index","EmptyTitle"],"sourceRoot":""}